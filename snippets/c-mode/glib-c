# -*- mode: snippet -*-
# name: glib code file
# key: glc
# group: glib
# --
/* -*- mode: C; c-file-style: "gnu"; indent-tabs-mode: nil; -*- */
/* ${1:`(glib-initial)`} */
/* ${2:$1$(glib-class text)} */

#include <glib-object.h>

#include "${1:$(glib-header text)}"

G_DEFINE_TYPE ($2, ${1:$(glib-fprefix text)}, ${3:G_TYPE_OBJECT});

#define GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), ${1:$(glib-t text)}, $2Private))

struct _$2Private
{
};

/**
 * ${1:$(glib-fprefix text)}_class_init:
 * @klass: (in): A #$2Class.
 *
 * Initializes the #$2Class and prepares the vtable.
 */
static void
${1:$(glib-fprefix text)}_class_init ($2Class *klass)
{
  GObjectClass *object_class = G_OBJECT_CLASS (klass);

  g_type_class_add_private (object_class, sizeof($2Private));
}

/**
 * ${1:$(glib-fprefix text)}_init:
 * @${1:$(glib-inst text)}: (in): A #$2.
 *
 * Initializes the newly created #$2 instance.
 */
static void
${1:$(glib-fprefix text)}_init ($2 *${1:$(glib-inst text)})
{
  ${1:$(glib-inst text)}->priv = GET_PRIVATE (${1:$(glib-inst text)});
}
